{
  "version": 3,
  "sources": ["../../../src/cli/docs.ts"],
  "sourcesContent": ["import { Command } from \"@commander-js/extra-typings\";\nimport chalk from \"chalk\";\nimport open from \"open\";\nimport { oneoffContext } from \"../bundler/context.js\";\nimport { getTargetDeploymentName } from \"./lib/deployment.js\";\nimport { bigBrainFetch, deprecationCheckWarning } from \"./lib/utils/utils.js\";\n\nexport const docs = new Command(\"docs\")\n  .description(\"Open the docs in the browser\")\n  .option(\"--no-open\", \"Print docs URL instead of opening it in your browser\")\n  .action(async (options) => {\n    const ctx = oneoffContext();\n    // Usually we'd call `getConfiguredDeploymentName` but in this\n    // command we don't care at all if the user is in the right directory\n    const configuredDeployment = getTargetDeploymentName();\n    const getCookieUrl = `get_cookie/${configuredDeployment}`;\n    const fetch = await bigBrainFetch(ctx);\n    try {\n      const res = await fetch(getCookieUrl);\n      deprecationCheckWarning(ctx, res);\n      const { cookie } = await res.json();\n      await openDocs(options.open, cookie);\n    } catch {\n      await openDocs(options.open);\n    }\n  });\n\nasync function openDocs(toOpen: boolean, cookie?: string) {\n  let docsUrl = \"https://docs.convex.dev\";\n  if (cookie !== undefined) {\n    docsUrl += \"/?t=\" + cookie;\n  }\n  if (toOpen) {\n    await open(docsUrl);\n    console.log(chalk.green(\"Docs have launched! Check your browser.\"));\n  } else {\n    console.log(chalk.green(`Find Convex docs here: ${docsUrl}`));\n  }\n}\n"],
  "mappings": ";AAAA,SAAS,eAAe;AACxB,OAAO,WAAW;AAClB,OAAO,UAAU;AACjB,SAAS,qBAAqB;AAC9B,SAAS,+BAA+B;AACxC,SAAS,eAAe,+BAA+B;AAEhD,aAAM,OAAO,IAAI,QAAQ,MAAM,EACnC,YAAY,8BAA8B,EAC1C,OAAO,aAAa,sDAAsD,EAC1E,OAAO,OAAO,YAAY;AACzB,QAAM,MAAM,cAAc;AAG1B,QAAM,uBAAuB,wBAAwB;AACrD,QAAM,eAAe,cAAc,oBAAoB;AACvD,QAAM,QAAQ,MAAM,cAAc,GAAG;AACrC,MAAI;AACF,UAAM,MAAM,MAAM,MAAM,YAAY;AACpC,4BAAwB,KAAK,GAAG;AAChC,UAAM,EAAE,OAAO,IAAI,MAAM,IAAI,KAAK;AAClC,UAAM,SAAS,QAAQ,MAAM,MAAM;AAAA,EACrC,QAAQ;AACN,UAAM,SAAS,QAAQ,IAAI;AAAA,EAC7B;AACF,CAAC;AAEH,eAAe,SAAS,QAAiB,QAAiB;AACxD,MAAI,UAAU;AACd,MAAI,WAAW,QAAW;AACxB,eAAW,SAAS;AAAA,EACtB;AACA,MAAI,QAAQ;AACV,UAAM,KAAK,OAAO;AAClB,YAAQ,IAAI,MAAM,MAAM,yCAAyC,CAAC;AAAA,EACpE,OAAO;AACL,YAAQ,IAAI,MAAM,MAAM,0BAA0B,OAAO,EAAE,CAAC;AAAA,EAC9D;AACF;",
  "names": []
}
