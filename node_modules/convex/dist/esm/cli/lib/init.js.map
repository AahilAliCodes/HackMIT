{
  "version": 3,
  "sources": ["../../../../src/cli/lib/init.ts"],
  "sourcesContent": ["import chalk from \"chalk\";\nimport { Context, logFinishedStep, logMessage } from \"../../bundler/context.js\";\nimport { DeploymentType } from \"./api.js\";\nimport { writeConvexUrlToEnvFile } from \"./envvars.js\";\n\nexport async function finalizeConfiguration(\n  ctx: Context,\n  options: {\n    functionsPath: string;\n    deploymentType: DeploymentType;\n    url: string;\n    wroteToGitIgnore: boolean;\n    changedDeploymentEnvVar: boolean;\n  },\n) {\n  const envVarWrite = await writeConvexUrlToEnvFile(ctx, options.url);\n  if (envVarWrite !== null) {\n    logFinishedStep(\n      ctx,\n      `Provisioned a ${options.deploymentType} deployment and saved its:\\n` +\n        `    name as CONVEX_DEPLOYMENT to .env.local\\n` +\n        `    URL as ${envVarWrite.envVar} to ${envVarWrite.envFile}`,\n    );\n  } else if (options.changedDeploymentEnvVar) {\n    logFinishedStep(\n      ctx,\n      `Provisioned ${options.deploymentType} deployment and saved its name as CONVEX_DEPLOYMENT to .env.local`,\n    );\n  }\n  if (options.wroteToGitIgnore) {\n    logMessage(ctx, chalk.gray(`  Added \".env.local\" to .gitignore`));\n  }\n\n  const anyChanges =\n    options.wroteToGitIgnore ||\n    options.changedDeploymentEnvVar ||\n    envVarWrite !== null;\n  if (anyChanges) {\n    logMessage(\n      ctx,\n      `\\nWrite your Convex functions in ${chalk.bold(options.functionsPath)}\\n` +\n        \"Give us feedback at https://convex.dev/community or support@convex.dev\\n\",\n    );\n  }\n}\n"],
  "mappings": ";AAAA,OAAO,WAAW;AAClB,SAAkB,iBAAiB,kBAAkB;AAErD,SAAS,+BAA+B;AAExC,sBAAsB,sBACpB,KACA,SAOA;AACA,QAAM,cAAc,MAAM,wBAAwB,KAAK,QAAQ,GAAG;AAClE,MAAI,gBAAgB,MAAM;AACxB;AAAA,MACE;AAAA,MACA,iBAAiB,QAAQ,cAAc;AAAA;AAAA,aAEvB,YAAY,MAAM,OAAO,YAAY,OAAO;AAAA,IAC9D;AAAA,EACF,WAAW,QAAQ,yBAAyB;AAC1C;AAAA,MACE;AAAA,MACA,eAAe,QAAQ,cAAc;AAAA,IACvC;AAAA,EACF;AACA,MAAI,QAAQ,kBAAkB;AAC5B,eAAW,KAAK,MAAM,KAAK,oCAAoC,CAAC;AAAA,EAClE;AAEA,QAAM,aACJ,QAAQ,oBACR,QAAQ,2BACR,gBAAgB;AAClB,MAAI,YAAY;AACd;AAAA,MACE;AAAA,MACA;AAAA,iCAAoC,MAAM,KAAK,QAAQ,aAAa,CAAC;AAAA;AAAA;AAAA,IAEvE;AAAA,EACF;AACF;",
  "names": []
}
