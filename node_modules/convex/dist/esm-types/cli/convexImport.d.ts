import { Context } from "../bundler/context.js";
import { Command } from "@commander-js/extra-typings";
export declare const convexImport: Command<[string], {
    table?: string | undefined;
    replace?: true | undefined;
    append?: true | undefined;
    yes?: true | undefined;
    format?: string | undefined;
    componentPath?: string | undefined;
} & {
    url?: string | undefined;
    adminKey?: string | undefined;
    prod?: boolean | undefined;
    previewName?: string | undefined;
    deploymentName?: string | undefined;
}>;
type InProgressImportState = {
    state: "in_progress";
    progress_message?: string | undefined;
    checkpoint_messages?: string[] | undefined;
};
type SnapshotImportState = {
    state: "uploaded";
} | {
    state: "waiting_for_confirmation";
    message_to_confirm?: string;
    require_manual_confirmation?: boolean;
} | InProgressImportState | {
    state: "completed";
    num_rows_written: bigint;
} | {
    state: "failed";
    error_message: string;
};
export declare function waitForStableImportState(ctx: Context, args: {
    importId: string;
    deploymentUrl: string;
    adminKey: string;
    onProgress: (ctx: Context, state: InProgressImportState, checkpointCount: number) => number;
}): Promise<SnapshotImportState>;
export declare function confirmImport(ctx: Context, args: {
    importId: string;
    adminKey: string;
    deploymentUrl: string;
    onError: (e: any) => Promise<void>;
}): Promise<undefined>;
export declare function uploadForImport(ctx: Context, args: {
    deploymentUrl: string;
    adminKey: string;
    filePath: string;
    importArgs: {
        tableName?: string;
        componentPath?: string;
        mode: string;
        format: string;
    };
    onImportFailed: (e: any) => Promise<void>;
}): Promise<string>;
export {};
//# sourceMappingURL=convexImport.d.ts.map